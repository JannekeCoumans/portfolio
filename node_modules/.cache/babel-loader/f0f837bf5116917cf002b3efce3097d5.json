{"ast":null,"code":"import _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport ZoomHelpers from \"./zoom-helpers\";\nimport { VictoryContainer, VictoryClipContainer, Data, PropTypes as CustomPropTypes } from \"victory-core\";\nvar DEFAULT_DOWNSAMPLE = 150;\nexport var zoomContainerMixin = function (base) {\n  var _class, _temp;\n\n  return _temp = _class = /*#__PURE__*/function (_base) {\n    _inherits(VictoryZoomContainer, _base);\n\n    function VictoryZoomContainer() {\n      _classCallCheck(this, VictoryZoomContainer);\n\n      return _possibleConstructorReturn(this, (VictoryZoomContainer.__proto__ || Object.getPrototypeOf(VictoryZoomContainer)).apply(this, arguments));\n    }\n\n    _createClass(VictoryZoomContainer, [{\n      key: \"clipDataComponents\",\n      value: function clipDataComponents(children, props) {\n        var scale = props.scale,\n            clipContainerComponent = props.clipContainerComponent,\n            polar = props.polar,\n            origin = props.origin,\n            horizontal = props.horizontal;\n        var rangeX = horizontal ? scale.y.range() : scale.x.range();\n        var rangeY = horizontal ? scale.x.range() : scale.y.range();\n        var plottableWidth = Math.abs(rangeX[0] - rangeX[1]);\n        var plottableHeight = Math.abs(rangeY[0] - rangeY[1]);\n        var radius = Math.max.apply(Math, _toConsumableArray(rangeY));\n        var groupComponent = React.cloneElement(clipContainerComponent, _objectSpread({\n          clipWidth: plottableWidth,\n          clipHeight: plottableHeight,\n          translateX: Math.min.apply(Math, _toConsumableArray(rangeX)),\n          translateY: Math.min.apply(Math, _toConsumableArray(rangeY)),\n          polar: polar,\n          origin: polar ? origin : undefined,\n          radius: polar ? radius : undefined\n        }, clipContainerComponent.props));\n        return React.Children.toArray(children).map(function (child) {\n          if (!Data.isDataComponent(child)) {\n            return child;\n          } else {\n            return React.cloneElement(child, {\n              groupComponent: groupComponent\n            });\n          }\n        });\n      }\n    }, {\n      key: \"modifyPolarDomain\",\n      value: function modifyPolarDomain(domain, originalDomain) {\n        // Only zoom the radius of polar charts. Zooming angles is very confusing\n        return {\n          x: originalDomain.x,\n          y: [0, domain.y[1]]\n        };\n      }\n    }, {\n      key: \"downsampleZoomData\",\n      value: function downsampleZoomData(props, child, domain) {\n        var downsample = props.downsample;\n\n        var getData = function (childProps) {\n          var data = childProps.data,\n              x = childProps.x,\n              y = childProps.y;\n          var defaultGetData = child.type && _isFunction(child.type.getData) ? child.type.getData : function () {\n            return undefined;\n          }; // skip costly data formatting if x and y accessors are not present\n\n          return Array.isArray(data) && !x && !y ? data : defaultGetData(childProps);\n        };\n\n        var data = getData(child.props); // return undefined if downsample is not run, then default() will replace with child.props.data\n\n        if (!downsample || !domain || !data) {\n          return undefined;\n        }\n\n        var maxPoints = downsample === true ? DEFAULT_DOWNSAMPLE : downsample;\n        var dimension = props.zoomDimension || \"x\"; // important: assumes data is ordered by dimension\n        // get the start and end of the data that is in the current visible domain\n\n        var startIndex = data.findIndex(function (d) {\n          return d[dimension] >= domain[dimension][0];\n        });\n        var endIndex = data.findIndex(function (d) {\n          return d[dimension] > domain[dimension][1];\n        }); // pick one more point (if available) at each end so that VictoryLine, VictoryArea connect\n\n        if (startIndex !== 0) {\n          startIndex -= 1;\n        }\n\n        if (endIndex !== -1) {\n          endIndex += 1;\n        }\n\n        var visibleData = data.slice(startIndex, endIndex);\n        return Data.downsample(visibleData, maxPoints, startIndex);\n      }\n    }, {\n      key: \"modifyChildren\",\n      value: function modifyChildren(props) {\n        var _this = this;\n\n        var childComponents = React.Children.toArray(props.children); // eslint-disable-next-line max-statements\n\n        return childComponents.map(function (child) {\n          var role = child.type && child.type.role;\n          var isDataComponent = Data.isDataComponent(child);\n          var currentDomain = props.currentDomain,\n              zoomActive = props.zoomActive,\n              allowZoom = props.allowZoom;\n\n          var originalDomain = _defaults({}, props.originalDomain, props.domain);\n\n          var zoomDomain = _defaults({}, props.zoomDomain, props.domain);\n\n          var cachedZoomDomain = _defaults({}, props.cachedZoomDomain, props.domain);\n\n          var domain;\n\n          if (!ZoomHelpers.checkDomainEquality(zoomDomain, cachedZoomDomain)) {\n            // if zoomDomain has been changed, use it\n            domain = zoomDomain;\n          } else if (allowZoom && !zoomActive) {\n            // if user has zoomed all the way out, use the child domain\n            domain = child.props.domain;\n          } else {\n            // default: use currentDomain, set by the event handlers\n            domain = _defaults({}, currentDomain, originalDomain);\n          }\n\n          var newDomain = props.polar ? _this.modifyPolarDomain(domain, originalDomain) : domain;\n\n          if (newDomain && props.zoomDimension) {\n            // if zooming is restricted to a dimension, don't squash changes to zoomDomain in other dim\n            newDomain = _objectSpread({}, zoomDomain, _defineProperty({}, props.zoomDimension, newDomain[props.zoomDimension]));\n          } // don't downsample stacked data\n\n\n          var newProps = isDataComponent && role !== \"stack\" ? {\n            domain: newDomain,\n            data: _this.downsampleZoomData(props, child, newDomain)\n          } : {\n            domain: newDomain\n          };\n          return React.cloneElement(child, _defaults(newProps, child.props));\n        });\n      } // Overrides method in VictoryContainer\n\n    }, {\n      key: \"getChildren\",\n      value: function getChildren(props) {\n        var children = this.modifyChildren(props);\n        return this.clipDataComponents(children, props);\n      }\n    }]);\n\n    return VictoryZoomContainer;\n  }(base), Object.defineProperty(_class, \"displayName\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: \"VictoryZoomContainer\"\n  }), Object.defineProperty(_class, \"propTypes\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: _objectSpread({}, VictoryContainer.propTypes, {\n      allowPan: PropTypes.bool,\n      allowZoom: PropTypes.bool,\n      clipContainerComponent: PropTypes.element.isRequired,\n      disable: PropTypes.bool,\n      downsample: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n      minimumZoom: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      }),\n      onZoomDomainChange: PropTypes.func,\n      zoomDimension: PropTypes.oneOf([\"x\", \"y\"]),\n      zoomDomain: PropTypes.shape({\n        x: CustomPropTypes.domain,\n        y: CustomPropTypes.domain\n      })\n    })\n  }), Object.defineProperty(_class, \"defaultProps\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: _objectSpread({}, VictoryContainer.defaultProps, {\n      clipContainerComponent: React.createElement(VictoryClipContainer, null),\n      allowPan: true,\n      allowZoom: true,\n      zoomActive: false\n    })\n  }), Object.defineProperty(_class, \"defaultEvents\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function (props) {\n      return [{\n        target: \"parent\",\n        eventHandlers: _objectSpread({\n          onMouseDown: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseDown(evt, targetProps);\n          },\n          onTouchStart: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseDown(evt, targetProps);\n          },\n          onMouseUp: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseUp(evt, targetProps);\n          },\n          onTouchEnd: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseUp(evt, targetProps);\n          },\n          onMouseLeave: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseLeave(evt, targetProps);\n          },\n          onTouchCancel: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseLeave(evt, targetProps);\n          },\n          // eslint-disable-next-line max-params\n          onMouseMove: function (evt, targetProps, eventKey, ctx) {\n            if (props.disable) {\n              return {};\n            }\n\n            return ZoomHelpers.onMouseMove(evt, targetProps, eventKey, ctx);\n          },\n          // eslint-disable-next-line max-params\n          onTouchMove: function (evt, targetProps, eventKey, ctx) {\n            if (props.disable) {\n              return {};\n            }\n\n            evt.preventDefault();\n            return ZoomHelpers.onMouseMove(evt, targetProps, eventKey, ctx);\n          }\n        }, props.disable || !props.allowZoom ? {} : {\n          onWheel: ZoomHelpers.onWheel\n        })\n      }];\n    }\n  }), _temp;\n};\nexport default zoomContainerMixin(VictoryContainer);","map":{"version":3,"sources":["C:/Users/31622/Documents/React Apps/portfolio/node_modules/victory-zoom-container/es/victory-zoom-container.js"],"names":["_isFunction","_defaults","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","prototype","toString","call","Array","from","isArray","arr2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","PropTypes","React","ZoomHelpers","VictoryContainer","VictoryClipContainer","Data","CustomPropTypes","DEFAULT_DOWNSAMPLE","zoomContainerMixin","base","_class","_temp","_base","VictoryZoomContainer","getPrototypeOf","apply","clipDataComponents","children","scale","clipContainerComponent","polar","origin","horizontal","rangeX","y","range","x","rangeY","plottableWidth","Math","abs","plottableHeight","radius","max","groupComponent","cloneElement","clipWidth","clipHeight","translateX","min","translateY","undefined","Children","toArray","map","child","isDataComponent","modifyPolarDomain","domain","originalDomain","downsampleZoomData","downsample","getData","childProps","data","defaultGetData","type","maxPoints","dimension","zoomDimension","startIndex","findIndex","d","endIndex","visibleData","slice","modifyChildren","_this","childComponents","role","currentDomain","zoomActive","allowZoom","zoomDomain","cachedZoomDomain","checkDomainEquality","newDomain","newProps","getChildren","propTypes","allowPan","bool","element","isRequired","disable","oneOfType","number","minimumZoom","shape","onZoomDomainChange","func","oneOf","defaultProps","createElement","eventHandlers","onMouseDown","evt","targetProps","onTouchStart","onMouseUp","onTouchEnd","onMouseLeave","onTouchCancel","onMouseMove","eventKey","ctx","onTouchMove","preventDefault","onWheel"],"mappings":"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","sourcesContent":["import _isFunction from \"lodash/isFunction\";\nimport _defaults from \"lodash/defaults\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport ZoomHelpers from \"./zoom-helpers\";\nimport { VictoryContainer, VictoryClipContainer, Data, PropTypes as CustomPropTypes } from \"victory-core\";\nvar DEFAULT_DOWNSAMPLE = 150;\nexport var zoomContainerMixin = function (base) {\n  var _class, _temp;\n\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_base) {\n    _inherits(VictoryZoomContainer, _base);\n\n    function VictoryZoomContainer() {\n      _classCallCheck(this, VictoryZoomContainer);\n\n      return _possibleConstructorReturn(this, (VictoryZoomContainer.__proto__ || Object.getPrototypeOf(VictoryZoomContainer)).apply(this, arguments));\n    }\n\n    _createClass(VictoryZoomContainer, [{\n      key: \"clipDataComponents\",\n      value: function clipDataComponents(children, props) {\n        var scale = props.scale,\n            clipContainerComponent = props.clipContainerComponent,\n            polar = props.polar,\n            origin = props.origin,\n            horizontal = props.horizontal;\n        var rangeX = horizontal ? scale.y.range() : scale.x.range();\n        var rangeY = horizontal ? scale.x.range() : scale.y.range();\n        var plottableWidth = Math.abs(rangeX[0] - rangeX[1]);\n        var plottableHeight = Math.abs(rangeY[0] - rangeY[1]);\n        var radius = Math.max.apply(Math, _toConsumableArray(rangeY));\n        var groupComponent = React.cloneElement(clipContainerComponent, _objectSpread({\n          clipWidth: plottableWidth,\n          clipHeight: plottableHeight,\n          translateX: Math.min.apply(Math, _toConsumableArray(rangeX)),\n          translateY: Math.min.apply(Math, _toConsumableArray(rangeY)),\n          polar: polar,\n          origin: polar ? origin : undefined,\n          radius: polar ? radius : undefined\n        }, clipContainerComponent.props));\n        return React.Children.toArray(children).map(function (child) {\n          if (!Data.isDataComponent(child)) {\n            return child;\n          } else {\n            return React.cloneElement(child, {\n              groupComponent: groupComponent\n            });\n          }\n        });\n      }\n    }, {\n      key: \"modifyPolarDomain\",\n      value: function modifyPolarDomain(domain, originalDomain) {\n        // Only zoom the radius of polar charts. Zooming angles is very confusing\n        return {\n          x: originalDomain.x,\n          y: [0, domain.y[1]]\n        };\n      }\n    }, {\n      key: \"downsampleZoomData\",\n      value: function downsampleZoomData(props, child, domain) {\n        var downsample = props.downsample;\n\n        var getData = function (childProps) {\n          var data = childProps.data,\n              x = childProps.x,\n              y = childProps.y;\n          var defaultGetData = child.type && _isFunction(child.type.getData) ? child.type.getData : function () {\n            return undefined;\n          }; // skip costly data formatting if x and y accessors are not present\n\n          return Array.isArray(data) && !x && !y ? data : defaultGetData(childProps);\n        };\n\n        var data = getData(child.props); // return undefined if downsample is not run, then default() will replace with child.props.data\n\n        if (!downsample || !domain || !data) {\n          return undefined;\n        }\n\n        var maxPoints = downsample === true ? DEFAULT_DOWNSAMPLE : downsample;\n        var dimension = props.zoomDimension || \"x\"; // important: assumes data is ordered by dimension\n        // get the start and end of the data that is in the current visible domain\n\n        var startIndex = data.findIndex(function (d) {\n          return d[dimension] >= domain[dimension][0];\n        });\n        var endIndex = data.findIndex(function (d) {\n          return d[dimension] > domain[dimension][1];\n        }); // pick one more point (if available) at each end so that VictoryLine, VictoryArea connect\n\n        if (startIndex !== 0) {\n          startIndex -= 1;\n        }\n\n        if (endIndex !== -1) {\n          endIndex += 1;\n        }\n\n        var visibleData = data.slice(startIndex, endIndex);\n        return Data.downsample(visibleData, maxPoints, startIndex);\n      }\n    }, {\n      key: \"modifyChildren\",\n      value: function modifyChildren(props) {\n        var _this = this;\n\n        var childComponents = React.Children.toArray(props.children); // eslint-disable-next-line max-statements\n\n        return childComponents.map(function (child) {\n          var role = child.type && child.type.role;\n          var isDataComponent = Data.isDataComponent(child);\n          var currentDomain = props.currentDomain,\n              zoomActive = props.zoomActive,\n              allowZoom = props.allowZoom;\n\n          var originalDomain = _defaults({}, props.originalDomain, props.domain);\n\n          var zoomDomain = _defaults({}, props.zoomDomain, props.domain);\n\n          var cachedZoomDomain = _defaults({}, props.cachedZoomDomain, props.domain);\n\n          var domain;\n\n          if (!ZoomHelpers.checkDomainEquality(zoomDomain, cachedZoomDomain)) {\n            // if zoomDomain has been changed, use it\n            domain = zoomDomain;\n          } else if (allowZoom && !zoomActive) {\n            // if user has zoomed all the way out, use the child domain\n            domain = child.props.domain;\n          } else {\n            // default: use currentDomain, set by the event handlers\n            domain = _defaults({}, currentDomain, originalDomain);\n          }\n\n          var newDomain = props.polar ? _this.modifyPolarDomain(domain, originalDomain) : domain;\n\n          if (newDomain && props.zoomDimension) {\n            // if zooming is restricted to a dimension, don't squash changes to zoomDomain in other dim\n            newDomain = _objectSpread({}, zoomDomain, _defineProperty({}, props.zoomDimension, newDomain[props.zoomDimension]));\n          } // don't downsample stacked data\n\n\n          var newProps = isDataComponent && role !== \"stack\" ? {\n            domain: newDomain,\n            data: _this.downsampleZoomData(props, child, newDomain)\n          } : {\n            domain: newDomain\n          };\n          return React.cloneElement(child, _defaults(newProps, child.props));\n        });\n      } // Overrides method in VictoryContainer\n\n    }, {\n      key: \"getChildren\",\n      value: function getChildren(props) {\n        var children = this.modifyChildren(props);\n        return this.clipDataComponents(children, props);\n      }\n    }]);\n\n    return VictoryZoomContainer;\n  }(base), Object.defineProperty(_class, \"displayName\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: \"VictoryZoomContainer\"\n  }), Object.defineProperty(_class, \"propTypes\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: _objectSpread({}, VictoryContainer.propTypes, {\n      allowPan: PropTypes.bool,\n      allowZoom: PropTypes.bool,\n      clipContainerComponent: PropTypes.element.isRequired,\n      disable: PropTypes.bool,\n      downsample: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n      minimumZoom: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      }),\n      onZoomDomainChange: PropTypes.func,\n      zoomDimension: PropTypes.oneOf([\"x\", \"y\"]),\n      zoomDomain: PropTypes.shape({\n        x: CustomPropTypes.domain,\n        y: CustomPropTypes.domain\n      })\n    })\n  }), Object.defineProperty(_class, \"defaultProps\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: _objectSpread({}, VictoryContainer.defaultProps, {\n      clipContainerComponent: React.createElement(VictoryClipContainer, null),\n      allowPan: true,\n      allowZoom: true,\n      zoomActive: false\n    })\n  }), Object.defineProperty(_class, \"defaultEvents\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function (props) {\n      return [{\n        target: \"parent\",\n        eventHandlers: _objectSpread({\n          onMouseDown: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseDown(evt, targetProps);\n          },\n          onTouchStart: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseDown(evt, targetProps);\n          },\n          onMouseUp: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseUp(evt, targetProps);\n          },\n          onTouchEnd: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseUp(evt, targetProps);\n          },\n          onMouseLeave: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseLeave(evt, targetProps);\n          },\n          onTouchCancel: function (evt, targetProps) {\n            return props.disable ? {} : ZoomHelpers.onMouseLeave(evt, targetProps);\n          },\n          // eslint-disable-next-line max-params\n          onMouseMove: function (evt, targetProps, eventKey, ctx) {\n            if (props.disable) {\n              return {};\n            }\n\n            return ZoomHelpers.onMouseMove(evt, targetProps, eventKey, ctx);\n          },\n          // eslint-disable-next-line max-params\n          onTouchMove: function (evt, targetProps, eventKey, ctx) {\n            if (props.disable) {\n              return {};\n            }\n\n            evt.preventDefault();\n            return ZoomHelpers.onMouseMove(evt, targetProps, eventKey, ctx);\n          }\n        }, props.disable || !props.allowZoom ? {} : {\n          onWheel: ZoomHelpers.onWheel\n        })\n      }];\n    }\n  }), _temp;\n};\nexport default zoomContainerMixin(VictoryContainer);"]},"metadata":{},"sourceType":"module"}